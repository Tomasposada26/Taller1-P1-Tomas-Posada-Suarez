{% extends "base.html" %}

{% block title %}Resultados de Búsqueda - {{ app_name }}{% endblock %}

{% block content %}
    <h1>Resultados de Búsqueda</h1>

    {% if books %}
        <p>Se encontraron {{ books.count }} libro(s) que coinciden con "{{ request.GET.q }}":</p>
        <div class="book-grid">
            {% for book in books %}
                <div class="book-item">
                    <img src="{{ book.cover_image }}" alt="Portada de {{ book.title }}">
                    <h3>{{ book.title }}</h3>
                    <p><strong>Autor:</strong> {{ book.author }}</p>
                    <p><strong>Género:</strong> {{ book.genre }}</p>
                    {% if book.publication_year %}
                        <p><strong>Año:</strong> {{ book.publication_year }}</p>
                    {% endif %}
                    <div class="book-detail">
                        <details>
                            <summary>Ver Sinopsis</summary>
                            <p>{{ book.synopsis }}</p>
                        </details>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>No se encontraron libros que coincidan con "{{ request.GET.q }}".</p>
    {% endif %}
    <p><a href="{% url 'book_list' %}">Ver todos los libros</a></p>
{% endblock %}